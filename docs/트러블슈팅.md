# 3LineMarker - ì£¼ìš” ì´ìŠˆ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

## ğŸ” íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

### 1. ë¬´í•œ ìŠ¤í¬ë¡¤ ì„±ëŠ¥ ë¬¸ì œ

#### 1. ë¬¸ì œìƒí™©
- í”¼ë“œ í˜ì´ì§€ì—ì„œ ë¬´í•œ ìŠ¤í¬ë¡¤ êµ¬í˜„ ì‹œ ê³¼ë„í•œ ë¦¬ë Œë”ë§ ë°œìƒ
- ìŠ¤í¬ë¡¤ ì‹œ í™”ë©´ì´ ëŠê¸°ê³  ë²„ë²…ì´ëŠ” í˜„ìƒ
- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ì§€ì†ì ìœ¼ë¡œ ì¦ê°€í•˜ì—¬ ë¸Œë¼ìš°ì € ì„±ëŠ¥ ì €í•˜

#### 2. ì›ì¸
- `loadFeed` í•¨ìˆ˜ê°€ ë§¤ ë Œë”ë§ë§ˆë‹¤ ì¬ìƒì„±ë˜ì–´ `useEffect`ê°€ ê³„ì† ì‹¤í–‰ë¨
- Intersection Observer ì½œë°± í•¨ìˆ˜ê°€ ë©”ëª¨ì´ì œì´ì…˜ë˜ì§€ ì•Šì•„ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°œìƒ
- í˜ì´ì§€ë„¤ì´ì…˜ ë¡œì§ì—ì„œ ê³„ì‚°ëœ ê°’ë“¤ì´ ë§¤ë²ˆ ì¬ê³„ì‚°ë¨

#### 3. í•´ê²°ë°©ì•ˆ
- `useCallback`ì„ í™œìš©í•˜ì—¬ `loadFeed` í•¨ìˆ˜ ë©”ëª¨ì´ì œì´ì…˜
- `useMemo`ë¡œ ê³„ì‚° ë¹„ìš©ì´ í° ê°’ë“¤ ë©”ëª¨ì´ì œì´ì…˜
- í˜ì´ì§€ í¬ê¸°ë¥¼ 10ê°œì”©ìœ¼ë¡œ ì¡°ì •í•˜ì—¬ í•œ ë²ˆì— ë¡œë“œí•˜ëŠ” ë°ì´í„° ì–‘ ì œí•œ
- Intersection Observer ì½œë°± í•¨ìˆ˜ë„ `useCallback`ìœ¼ë¡œ ë©”ëª¨ì´ì œì´ì…˜

```javascript
const loadFeed = useCallback(async (pageNum, reset = false) => {
    if (loading) return;
    setLoading(true);
    try {
        const data = await getFeed(token, pageNum, 10);
        if (reset) {
            setMarkers(data.markers);
        } else {
            setMarkers(prev => [...prev, ...data.markers]);
        }
        setHasMore(data.markers.length >= 10);
    } catch (error) {
        console.error('í”¼ë“œ ë¡œë“œ ì‹¤íŒ¨:', error);
    } finally {
        setLoading(false);
    }
}, [token, tab, sort, isAuthenticated]);
```

#### 4. ê°œì„ ê²°ê³¼
- ë¦¬ë Œë”ë§ íšŸìˆ˜ ì•½ 70% ê°ì†Œ
- ìŠ¤í¬ë¡¤ ì„±ëŠ¥ì´ ë¶€ë“œëŸ½ê²Œ ê°œì„ ë˜ì–´ ì‚¬ìš©ì ê²½í—˜ í–¥ìƒ
- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì•ˆì •í™”
- í˜ì´ì§€ ë¡œë”© ì†ë„ ê°œì„ 

---

### 2. React Hook ì˜ì¡´ì„± ë°°ì—´ ë¬¸ì œ

#### 1. ë¬¸ì œìƒí™©
- `useCallback`ì˜ ì˜ì¡´ì„± ë°°ì—´ì— `page` ìƒíƒœê°€ í¬í•¨ë˜ì–´ ìˆì–´ `page`ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ í•¨ìˆ˜ê°€ ì¬ìƒì„±ë¨
- `useEffect`ì—ì„œ ë©”ëª¨ì´ì œì´ì…˜ëœ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ë¬´í•œ ë£¨í”„ ë°œìƒ
- ESLintì—ì„œ ì˜ì¡´ì„± ë°°ì—´ ê²½ê³  ë‹¤ìˆ˜ ë°œìƒ

#### 2. ì›ì¸
- `page` ìƒíƒœê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ `loadFeed` í•¨ìˆ˜ê°€ ì¬ìƒì„±ë¨
- ì¬ìƒì„±ëœ í•¨ìˆ˜ë¥¼ `useEffect`ì˜ ì˜ì¡´ì„±ìœ¼ë¡œ ì‚¬ìš©í•˜ë©´ ë‹¤ì‹œ ì‹¤í–‰ë˜ì–´ `page`ê°€ ë³€ê²½ë˜ê³ , ì´ë¡œ ì¸í•´ ë¬´í•œ ë£¨í”„ ë°œìƒ
- React Hookì˜ ì˜ì¡´ì„± ë°°ì—´ ê·œì¹™ì„ ì œëŒ€ë¡œ ì´í•´í•˜ì§€ ëª»í•œ ìƒíƒœì—ì„œ êµ¬í˜„

#### 3. í•´ê²°ë°©ì•ˆ
- `useRef`ë¥¼ í™œìš©í•˜ì—¬ `page` ê°’ì„ refë¡œ ê´€ë¦¬
- ì˜ì¡´ì„± ë°°ì—´ì—ì„œ `page`ë¥¼ ì œê±°í•˜ê³  í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ `pageRef.current`ë¡œ ìµœì‹  ê°’ ì°¸ì¡°
- `useEffect`ë¥¼ í†µí•´ `page`ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ `pageRef.current` ì—…ë°ì´íŠ¸

```javascript
const pageRef = useRef(page);

useEffect(() => {
    pageRef.current = page;
}, [page]);

const loadFeed = useCallback(async (pageNum, reset = false) => {
    const currentPage = pageNum || pageRef.current;
    // ... ë¡œì§
}, [token, tab, sort, isAuthenticated]);
```

#### 4. ê°œì„ ê²°ê³¼
- ë¬´í•œ ë£¨í”„ ë¬¸ì œ ì™„ì „ í•´ê²°
- ESLint ê²½ê³  0ê°œ ë‹¬ì„±
- í•¨ìˆ˜ ì¬ìƒì„± íšŸìˆ˜ ê°ì†Œë¡œ ì„±ëŠ¥ ê°œì„ 
- ì½”ë“œ ì•ˆì •ì„± ë° ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ

---
